<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      text { font-family: 'Inter', sans-serif; }
      .title { font-size: 24px; font-weight: 700; fill: #111827; }
      .subtitle { font-size: 14px; font-weight: 500; fill: #6B7280; }
      .label { font-size: 13px; font-weight: 500; fill: #374151; }
      .small { font-size: 11px; fill: #6B7280; }

      .box-auth { fill: #EFF6FF; stroke: #3B82F6; stroke-width: 2; }
      .box-main { fill: #F3F4F6; stroke: #9CA3AF; stroke-width: 2; }
      .box-negotiate { fill: #FEF3C7; stroke: #F59E0B; stroke-width: 2; }
      .box-commit { fill: #D1FAE5; stroke: #10B981; stroke-width: 2; }
      .box-validate { fill: #DBEAFE; stroke: #3B82F6; stroke-width: 2; }
      .box-success { fill: #D1FAE5; stroke: #10B981; stroke-width: 2; }
      .box-error { fill: #FEE2E2; stroke: #EF4444; stroke-width: 2; }

      .arrow { stroke: #6B7280; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-decision { stroke: #F59E0B; stroke-width: 2; stroke-dasharray: 4,4; fill: none; marker-end: url(#arrowhead-decision); }
    </style>

    <marker id="arrowhead" markerWidth="10" markerHight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6B7280" />
    </marker>
    <marker id="arrowhead-decision" markerWidth="10" markerHight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#F59E0B" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">Komplett Userreise - Nye H√¶dda Barneskole PM Simulator</text>
  <text x="700" y="65" text-anchor="middle" class="subtitle">Full gjennomf√∏ring from registrering til eksport</text>

  <!-- Phase 1: Authentication -->
  <rect x="50" y="100" width="200" height="80" rx="8" class="box-auth"/>
  <text x="150" y="130" text-anchor="middle" class="label" font-weight="600">1. START</text>
  <text x="150" y="150" text-anchor="middle" class="small">User √•pner app</text>
  <text x="150" y="165" text-anchor="middle" class="small">Registrering / Innlandging</text>

  <path d="M 250 140 L 320 140" class="arrow"/>

  <rect x="320" y="100" width="200" height="80" rx="8" class="box-auth"/>
  <text x="420" y="125" text-anchor="middle" class="label" font-weight="600">2. Autentisering</text>
  <text x="420" y="145" text-anchor="middle" class="small">Supabase Auth</text>
  <text x="420" y="160" text-anchor="middle" class="small">JWT token lagret</text>
  <text x="420" y="175" text-anchor="middle" class="small">‚Üí Til Dashboard</text>

  <!-- Phase 2: Dashboard -->
  <path d="M 420 180 L 420 240" class="arrow"/>

  <rect x="320" y="240" width="200" height="100" rx="8" class="box-main"/>
  <text x="420" y="270" text-anchor="middle" class="label" font-weight="600">3. Dashboard</text>
  <text x="420" y="290" text-anchor="middle" class="small">Budsjett: 0 / 700 MNOK</text>
  <text x="420" y="305" text-anchor="middle" class="small">15 WBS tasks (‚ö™ waiting)</text>
  <text x="420" y="320" text-anchor="middle" class="small">Velg oppgave √• forhandle</text>
  <text x="420" y="335" text-anchor="middle" class="small" font-weight="600" fill="#3B82F6">Click "Kontakt Leverand√∏r"</text>

  <!-- Phase 3: Supplier Selection -->
  <path d="M 520 290 L 600 290" class="arrow"/>

  <rect x="600" y="240" width="200" height="100" rx="8" class="box-negotiate"/>
  <text x="700" y="270" text-anchor="middle" class="label" font-weight="600">4. Velg Leverand√∏r</text>
  <text x="700" y="290" text-anchor="middle" class="small">5 suppliers vises</text>
  <text x="700" y="305" text-anchor="middle" class="small">‚Ä¢ Bj√∏rn Eriksen</text>
  <text x="700" y="320" text-anchor="middle" class="small">‚Ä¢ Kari Andersen</text>
  <text x="700" y="335" text-anchor="middle" class="small" font-weight="600" fill="#F59E0B">Velg ‚Üí Chat</text>

  <!-- Phase 4: Negotiation -->
  <path d="M 800 290 L 880 290" class="arrow"/>

  <rect x="880" y="200" width="220" height="140" rx="8" class="box-negotiate"/>
  <text x="990" y="225" text-anchor="middle" class="label" font-weight="600">5. Forhandling</text>
  <text x="990" y="245" text-anchor="middle" class="small">User: "Pristilbud?"</text>
  <text x="990" y="260" text-anchor="middle" class="small">AI: "120 MNOK, 3 mo"</text>
  <text x="990" y="275" text-anchor="middle" class="small">User: "For h√∏yt"</text>
  <text x="990" y="290" text-anchor="middle" class="small">AI: "105 MNOK, 2.5 mo"</text>
  <text x="990" y="310" text-anchor="middle" class="small" font-weight="600" fill="#10B981">Accept offer</text>
  <text x="990" y="330" text-anchor="middle" class="small" font-style="italic">(Runde 1/15)</text>

  <!-- Commitment -->
  <path d="M 990 340 L 990 400" class="arrow"/>

  <rect x="880" y="400" width="220" height="80" rx="8" class="box-commit"/>
  <text x="990" y="425" text-anchor="middle" class="label" font-weight="600">6. Forpliktelse</text>
  <text x="990" y="445" text-anchor="middle" class="small">Confirm ‚Üí Plan oppdatert</text>
  <text x="990" y="460" text-anchor="middle" class="small">Budsjett: 105 / 700</text>
  <text x="990" y="475" text-anchor="middle" class="small" font-weight="600" fill="#10B981">1/15 completed ‚úì</text>

  <!-- Loop decision -->
  <path d="M 880 440 L 750 440 L 750 500" class="arrow-decision"/>

  <rect x="650" y="500" width="200" height="80" rx="8" class="box-main"/>
  <text x="750" y="530" text-anchor="middle" class="label" font-weight="600">Flere oppgaver?</text>
  <text x="750" y="555" text-anchor="middle" class="small" font-weight="600" fill="#F59E0B">JA ‚Üí Gjenta 4-6</text>
  <text x="750" y="575" text-anchor="middle" class="small">NEI ‚Üí Valider (15/15)</text>

  <path d="M 750 500 L 750 380 L 600 380 L 600 290" class="arrow-decision"/>

  <!-- Validation -->
  <path d="M 1100 440 L 1200 440" class="arrow"/>

  <rect x="1150" y="380" width="200" height="120" rx="8" class="box-validate"/>
  <text x="1250" y="410" text-anchor="middle" class="label" font-weight="600">7. Validering</text>
  <text x="1250" y="435" text-anchor="middle" class="small">Budsjett ‚â§700 MNOK?</text>
  <text x="1250" y="455" text-anchor="middle" class="small">Dato ‚â§15. mai 2026?</text>
  <text x="1250" y="475" text-anchor="middle" class="small">15/15 fullf√∏rt?</text>

  <!-- Success -->
  <path d="M 1250 500 L 1250 600" class="arrow"/>

  <rect x="1150" y="600" width="200" height="100" rx="8" class="box-success"/>
  <text x="1250" y="630" text-anchor="middle" class="label" font-weight="600" fill="#10B981">SUKSESS! üéâ</text>
  <text x="1250" y="655" text-anchor="middle" class="small">698 MNOK</text>
  <text x="1250" y="675" text-anchor="middle" class="small">10. april 2026 ‚úì</text>
  <text x="1250" y="695" text-anchor="middle" class="small" font-weight="600">Export session</text>

  <!-- Error -->
  <path d="M 1150 440 L 1050 440 L 1050 620" class="arrow-decision"/>

  <rect x="950" y="620" width="180" height="100" rx="8" class="box-error"/>
  <text x="1040" y="650" text-anchor="middle" class="label" font-weight="600" fill="#EF4444">FEIL ‚ùå</text>
  <text x="1040" y="675" text-anchor="middle" class="small">Budsjett: 750 MNOK</text>
  <text x="1040" y="695" text-anchor="middle" class="small" font-weight="600">Renegotiate</text>

  <path d="M 1040 620 L 1040 560 L 880 560 L 880 340" class="arrow-decision"/>

  <!-- Footer -->
  <text x="700" y="980" text-anchor="middle" class="small" fill="#9CA3AF">Nye H√¶dda Barneskole PM Simulator | nhb-01-flow-complete-user-journey.svg</text>
</svg>
