<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      text { font-family: 'Inter', sans-serif; }
      .title-main { font-size: 24px; font-weight: 700; fill: #111827; }
      .subtitle-main { font-size: 14px; font-weight: 500; fill: #6B7280; }
      .modal-title { font-size: 20px; font-weight: 700; fill: #111827; }
      .label { font-size: 13px; font-weight: 500; fill: #374151; }
      .value { font-size: 13px; font-weight: 600; fill: #111827; }
      .small { font-size: 11px; fill: #6B7280; }
      .warning { font-size: 13px; fill: #6B7280; }

      .overlay { fill: rgba(0, 0, 0, 0.5); }
      .modal { fill: #FFFFFF; }
      .modal-shadow { filter: drop-shadow(0 10px 25px rgba(0, 0, 0, 0.2)); }
      .button-primary { fill: #3B82F6; }
      .button-secondary { fill: #FFFFFF; stroke: #D1D5DB; stroke-width: 1; }
      .button-text-primary { font-size: 14px; font-weight: 600; fill: #FFFFFF; }
      .button-text-secondary { font-size: 14px; font-weight: 600; fill: #374151; }
      .data-row { fill: #F9FAFB; }
    </style>
  </defs>

  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" class="title-main">Modal - Forpliktelsesbekreftelse</text>
  <text x="500" y="65" text-anchor="middle" class="subtitle-main">Kritisk beslutningspunkt: Godkjenne tilbud og oppdatere plan</text>

  <!-- Background/Overlay -->
  <rect width="1000" height="700" class="overlay"/>

  <!-- Modal Window -->
  <g transform="translate(250, 150)" class="modal-shadow">
    <rect width="500" height="400" rx="12" class="modal"/>

    <!-- Close Button -->
    <g transform="translate(460, 20)">
      <circle r="15" fill="#F3F4F6"/>
      <line x1="-6" y1="-6" x2="6" y2="6" stroke="#6B7280" stroke-width="2"/>
      <line x1="6" y1="-6" x2="-6" y2="6" stroke="#6B7280" stroke-width="2"/>
    </g>

    <!-- Modal Content -->
    <g transform="translate(40, 50)">

      <!-- Title -->
      <text x="0" y="0" class="modal-title">Bekreft Forpliktelse</text>

      <!-- Data Grid -->
      <g transform="translate(0, 35)">
        <!-- Row 1: WBS -->
        <rect x="-20" y="0" width="440" height="45" rx="6" class="data-row"/>
        <text x="0" y="25" class="label">WBS-oppgave:</text>
        <text x="420" y="25" text-anchor="end" class="value">1.3.1 - Grunnarbeid</text>

        <!-- Row 2: Supplier -->
        <rect x="-20" y="55" width="440" height="45" rx="6" fill="#FFFFFF"/>
        <text x="0" y="80" class="label">LeverandÃ¸r:</text>
        <text x="420" y="80" text-anchor="end" class="value">BjÃ¸rn Eriksen (Eriksen Bygg AS)</text>

        <!-- Row 3: Cost -->
        <rect x="-20" y="110" width="440" height="45" rx="6" class="data-row"/>
        <text x="0" y="135" class="label">Kostnad:</text>
        <text x="420" y="135" text-anchor="end" class="value" fill="#3B82F6">105 MNOK</text>

        <!-- Row 4: Duration -->
        <rect x="-20" y="165" width="440" height="45" rx="6" fill="#FFFFFF"/>
        <text x="0" y="190" class="label">Varighet:</text>
        <text x="420" y="190" text-anchor="end" class="value" fill="#3B82F6">2.5 mÃ¥neder</text>

        <!-- Row 5: Start/End dates (calculated) -->
        <rect x="-20" y="220" width="440" height="45" rx="6" class="data-row"/>
        <text x="0" y="245" class="label">Start â†’ Slutt:</text>
        <text x="420" y="245" text-anchor="end" class="value">15. jan 2025 â†’ 1. apr 2025</text>
      </g>

      <!-- Warning Message -->
      <g transform="translate(0, 310)">
        <rect x="-20" y="-10" width="440" height="50" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
        <text x="210" y="15" text-anchor="middle" class="warning">
          Dette vil oppdatere prosjektplanen din.
        </text>
        <text x="210" y="32" text-anchor="middle" class="warning" font-weight="600">
          Fortsette?
        </text>
      </g>
    </g>

    <!-- Action Buttons -->
    <g transform="translate(40, 360)">
      <!-- Cancel Button -->
      <rect x="0" y="0" width="200" height="45" rx="8" class="button-secondary"/>
      <text x="100" y="28" text-anchor="middle" class="button-text-secondary">Avbryt</text>

      <!-- Confirm Button -->
      <rect x="220" y="0" width="200" height="45" rx="8" class="button-primary"/>
      <text x="320" y="28" text-anchor="middle" class="button-text-primary">Bekreft</text>
    </g>
  </g>

  <!-- Annotations -->
  <g transform="translate(50, 450)">
    <text x="0" y="0" class="label" font-weight="600">Interaksjoner:</text>
    <text x="0" y="25" class="small">1. Klikk "Godta" i chat â†’ Modal vises</text>
    <text x="0" y="45" class="small">2. Klikk "Bekreft" â†’ Plan oppdateres (localStorage)</text>
    <text x="0" y="65" class="small">3. Toast notification: "1.3.1 Grunnarbeid lagt til i plan"</text>
    <text x="0" y="85" class="small">4. Dashboard: Budsjett 0 â†’ 105 MNOK, WBS âšª â†’ ðŸŸ¢</text>
    <text x="0" y="105" class="small">5. Chat: System message "âœ… Tilbud godtatt..."</text>
    <text x="0" y="125" class="small">6. Redirect til Dashboard etter 1 sekund</text>
  </g>

  <g transform="translate(550, 450)">
    <text x="0" y="0" class="label" font-weight="600">Beregninger:</text>
    <text x="0" y="25" class="small">â€¢ Start-dato: Basert pÃ¥ avhengigheter</text>
    <text x="0" y="45" class="small">  - Hvis ingen: 15. jan 2025 (prosjektstart)</text>
    <text x="0" y="65" class="small">  - Hvis avhengig: Siste end_date + 1 dag</text>
    <text x="0" y="85" class="small">â€¢ Slutt-dato: Start + varighet (mÃ¥neder)</text>
    <text x="0" y="105" class="small">â€¢ Budsjett: Sum alle current_plan.cost</text>
    <text x="0" y="125" class="small">â€¢ Forventet dato: Max end_date fra plan</text>
  </g>

  <!-- Footer -->
  <text x="500" y="680" text-anchor="middle" class="small" fill="#FFFFFF">nhb-17-modal-commitment-confirm.svg | Forpliktelsesmodal med bekreftelse</text>
</svg>
