<svg width="1000" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      text { font-family: 'Inter', sans-serif; }
      .title-main { font-size: 24px; font-weight: 700; fill: #111827; }
      .subtitle-main { font-size: 14px; font-weight: 500; fill: #6B7280; }
      .modal-title { font-size: 28px; font-weight: 700; fill: #EF4444; }
      .heading { font-size: 16px; font-weight: 600; fill: #111827; }
      .error-text { font-size: 14px; font-weight: 500; fill: #111827; }
      .error-detail { font-size: 12px; fill: #6B7280; }
      .suggestion { font-size: 13px; fill: #374151; }
      .small { font-size: 11px; fill: #6B7280; }

      .overlay { fill: rgba(0, 0, 0, 0.5); }
      .modal { fill: #FFFFFF; }
      .modal-shadow { filter: drop-shadow(0 10px 25px rgba(0, 0, 0, 0.2)); }
      .error-list-bg { fill: #FEE2E2; }
      .suggestion-bg { fill: #F3F4F6; }
      .button-primary { fill: #3B82F6; }
      .button-text { font-size: 14px; font-weight: 600; fill: #FFFFFF; }
    </style>
  </defs>

  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" class="title-main">Modal - Validation Error</text>
  <text x="500" y="65" text-anchor="middle" class="subtitle-main">Plan does not meet requirements - show specific errors and suggestions</text>

  <!-- Background/Overlay -->
  <rect width="1000" height="800" class="overlay"/>

  <!-- Modal Window (Larger for error details) -->
  <g transform="translate(150, 100)" class="modal-shadow">
    <rect width="700" height="600" rx="12" class="modal"/>

    <!-- Close Button -->
    <g transform="translate(660, 20)">
      <circle r="15" fill="#F3F4F6"/>
      <line x1="-6" y1="-6" x2="6" y2="6" stroke="#6B7280" stroke-width="2"/>
      <line x1="6" y1="-6" x2="-6" y2="6" stroke="#6B7280" stroke-width="2"/>
    </g>

    <!-- Modal Content -->
    <g transform="translate(60, 60)">

      <!-- Error Icon (Large X) -->
      <g transform="translate(290, 0)">
        <circle r="50" fill="#FEE2E2" stroke="#EF4444" stroke-width="3"/>
        <line x1="-20" y1="-20" x2="20" y2="20" stroke="#EF4444" stroke-width="6" stroke-linecap="round"/>
        <line x1="20" y1="-20" x2="-20" y2="20" stroke="#EF4444" stroke-width="6" stroke-linecap="round"/>
      </g>

      <!-- Title -->
      <text x="290" y="120" text-anchor="middle" class="modal-title">Plan Validation Failed</text>

      <!-- Error List Section -->
      <g transform="translate(0, 150)">
        <text x="0" y="0" class="heading">Errors found:</text>

        <rect x="0" y="15" width="580" height="140" rx="8" class="error-list-bg"/>

        <g transform="translate(30, 45)">
          <!-- Error 1: Budget -->
          <g>
            <circle cx="0" cy="0" r="8" fill="#EF4444"/>
            <text x="25" y="5" class="error-text">
              Budget exceeded by 50 MNOK
            </text>
            <text x="45" y="25" class="error-detail">
              Total: 750 MNOK | Limit: 700 MNOK (107%)
            </text>
          </g>

          <!-- Error 2: Timeline -->
          <g transform="translate(0, 60)">
            <circle cx="0" cy="0" r="8" fill="#EF4444"/>
            <text x="25" y="5" class="error-text">
              Project delayed until 20. mai 2026
            </text>
            <text x="45" y="25" class="error-detail">
              Deadline: 15. mai 2026 | Delay: 5 days
            </text>
          </g>
        </g>
      </g>

      <!-- Suggestions Section -->
      <g transform="translate(0, 310)">
        <text x="0" y="0" class="heading">Suggested solutions:</text>

        <rect x="0" y="15" width="580" height="150" rx="8" class="suggestion-bg"/>

        <g transform="translate(30, 40)">
          <text x="0" y="0" class="suggestion" font-weight="600">
            Consider renegotiating these expensive tasks:
          </text>

          <!-- Suggested items to renegotiate -->
          <g transform="translate(20, 25)">
            <text x="0" y="0" class="suggestion">• 2.1 Shell Construction</text>
            <text x="450" y="0" text-anchor="end" class="suggestion" font-weight="600" fill="#EF4444">250 MNOK</text>

            <text x="0" y="25" class="suggestion">• 3.4 Painting and Surface Treatment</text>
            <text x="450" y="25" text-anchor="end" class="suggestion" font-weight="600" fill="#EF4444">180 MNOK</text>

            <text x="0" y="50" class="suggestion">• 3.1 Plumbing Installation</text>
            <text x="450" y="50" text-anchor="end" class="suggestion" font-weight="600" fill="#EF4444">120 MNOK</text>
          </g>

          <text x="0" y="100" class="small" font-style="italic" fill="#6B7280">
            Tip: Focus on the three most expensive tasks first. A reduction of 10-15%
          </text>
          <text x="0" y="115" class="small" font-style="italic" fill="#6B7280">
            in these will bring you under budget.
          </text>
        </g>
      </g>
    </g>

    <!-- Action Button -->
    <g transform="translate(60, 525)">
      <rect x="0" y="0" width="580" height="50" rx="8" class="button-primary"/>
      <text x="290" y="32" text-anchor="middle" class="button-text" font-size="16">
        Back to Planning
      </text>
    </g>
  </g>

  <!-- Annotations -->
  <g transform="translate(50, 560)">
    <text x="0" y="0" class="label" font-weight="600">Validation Logic:</text>
    <text x="0" y="25" class="small">1. Total kostnad = Sum av alle current_plan[].cost</text>
    <text x="0" y="45" class="small">2. Budsjett PASS hvis total_cost ≤ 700 MNOK</text>
    <text x="0" y="65" class="small">3. Budsjett FAIL hvis total_cost > 700 MNOK</text>
    <text x="0" y="85" class="small">4. Tidslinj PASS hvis projected_end_date ≤ 15. mai 2026</text>
    <text x="0" y="105" class="small">5. Tidslinje FAIL hvis projected_end_date > 15. mai 2026</text>
  </g>

  <g transform="translate(550, 560)">
    <text x="0" y="0" class="label" font-weight="600">After error:</text>
    <text x="0" y="25" class="small">• Click "Back to Planning" → Dashboard</text>
    <text x="0" y="45" class="small">• Suggested WBS items highlighted (yellow background)</text>
    <text x="0" y="65" class="small">• Click "Renegotiate" on suggested item</text>
    <text x="0" y="85" class="small">• Negotiate lower price → Accept → Try validation again</text>
  </g>

  <!-- Footer -->
  <text x="500" y="780" text-anchor="middle" class="small" fill="#FFFFFF">nhb-20-modal-error-validation.svg | Validation error with concrete suggestions</text>
</svg>
