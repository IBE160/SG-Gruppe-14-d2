<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      text { font-family: 'Inter', sans-serif; }
      .title { font-size: 24px; font-weight: 700; fill: #111827; }
      .subtitle { font-size: 14px; font-weight: 500; fill: #6B7280; }
      .heading { font-size: 16px; font-weight: 600; fill: #111827; }
      .label { font-size: 12px; font-weight: 500; fill: #374151; }
      .small { font-size: 10px; fill: #6B7280; }
      .timestamp { font-size: 11px; fill: #6B7280; font-family: 'Courier New', monospace; }
      .event-text { font-size: 12px; fill: #111827; }

      .card { fill: #FFFFFF; }
      .timeline-line { stroke: #D1D5DB; stroke-width: 3; }
      .event-dot { fill: #3B82F6; }
      .event-dot-success { fill: #10B981; }
      .event-dot-warning { fill: #F59E0B; }
      .event-dot-error { fill: #EF4444; }
      .panel-bg { fill: #F9FAFB; }
      .diff-add { fill: #D1FAE5; }
      .diff-remove { fill: #FEE2E2; }
      .button { fill: #3B82F6; }
      .button-text { font-size: 12px; font-weight: 600; fill: #FFFFFF; }
    </style>
  </defs>

  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">History - Project Changes and Decisions</text>
  <text x="700" y="65" text-anchor="middle" class="subtitle">Chronolandical timeline with diff view and rollback</text>

  <!-- Mayn Container -->
  <g transform="translate(50, 100)">

    <!-- Header Panel -->
    <rect x="0" y="0" width="1300" height="60" rx="6" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1"/>

    <g transform="translate(30, 30)">
      <text x="0" y="0" class="heading">Prosjekthistorikk</text>

      <g transform="translate(950, -10)">
        <rect x="0" y="0" width="140" height="30" rx="6" fill="#FFFFFF" stroke="#D1D5DB" stroke-width="1"/>
        <text x="70" y="20" text-anchor="middle" class="label">Filter: All ‚ñº</text>
      </g>

      <g transform="translate(1110, -10)">
        <rect x="0" y="0" width="150" height="30" rx="6" class="button"/>
        <text x="75" y="20" text-anchor="middle" class="button-text">üì• Export land</text>
      </g>
    </g>

    <!-- Timeline and Events Area -->
    <g transform="translate(0, 80)">

      <!-- Left: Timeline -->
      <g transform="translate(50, 0)">

        <!-- Vertical timeline line -->
        <line x1="0" y1="0" x2="0" y2="700" class="timeline-line"/>

        <!-- Event 1: Session started -->
        <g>
          <circle cx="0" cy="0" r="8" class="event-dot"/>
          <g transform="translate(30, -10)">
            <text x="0" y="0" class="timestamp">2025-12-09 14:05:32</text>
            <text x="0" y="18" class="event-text" font-weight="600">Session created</text>
            <text x="0" y="35" class="small">User registered and authenticated via Supabase</text>
          </g>
        </g>

        <!-- Event 2: First negotiation -->
        <g transform="translate(0, 100)">
          <circle cx="0" cy="0" r="8" class="event-dot-success"/>
          <g transform="translate(30, -10)">
            <text x="0" y="0" class="timestamp">2025-12-09 14:12:48</text>
            <text x="0" y="18" class="event-text" font-weight="600">Negotiation accepted: 1.3.1 Foundation Work</text>
            <text x="0" y="35" class="small">Supplier: Bj√∏rn Eriksen | 105 MNOK, 2.5 months</text>
            <rect x="0" y="45" width="80" height="22" rx="4" fill="#3B82F6"/>
            <text x="40" y="60" text-anchor="middle" class="small" fill="#FFFFFF" font-weight="600">View details ‚Üí</text>
          </g>
        </g>

        <!-- Event 3: Budget warning -->
        <g transform="translate(0, 220)">
          <circle cx="0" cy="0" r="8" class="event-dot-warning"/>
          <g transform="translate(30, -10)">
            <text x="0" y="0" class="timestamp">2025-12-09 14:35:21</text>
            <text x="0" y="18" class="event-text" font-weight="600">Budget warning</text>
            <text x="0" y="35" class="small">Total: 680 MNOK (97% av 700 MNOK) | 3 tasks remaining</text>
          </g>
        </g>

        <!-- Event 4: Renegotiation -->
        <g transform="translate(0, 320)">
          <circle cx="0" cy="0" r="8" class="event-dot"/>
          <g transform="translate(30, -10)">
            <text x="0" y="0" class="timestamp">2025-12-09 14:42:15</text>
            <text x="0" y="18" class="event-text" font-weight="600">Renegotiated: 2.1 Shell Construction</text>
            <text x="0" y="35" class="small">Price reduced: 250 MNOK ‚Üí 230 MNOK (-20 MNOK)</text>
            <rect x="0" y="45" width="80" height="22" rx="4" fill="#3B82F6"/>
            <text x="40" y="60" text-anchor="middle" class="small" fill="#FFFFFF" font-weight="600">View diff ‚Üí</text>
          </g>
        </g>

        <!-- Event 5: Validation error -->
        <g transform="translate(0, 440)">
          <circle cx="0" cy="0" r="8" class="event-dot-error"/>
          <g transform="translate(30, -10)">
            <text x="0" y="0" class="timestamp">2025-12-09 15:18:03</text>
            <text x="0" y="18" class="event-text" font-weight="600">Validation failed</text>
            <text x="0" y="35" class="small">Budsjett overskredet: 715 MNOK (102%) | Timeline OK</text>
          </g>
        </g>

        <!-- Event 6: Success -->
        <g transform="translate(0, 560)">
          <circle cx="0" cy="0" r="10" class="event-dot-success"/>
          <g transform="translate(30, -15)">
            <text x="0" y="0" class="timestamp">2025-12-09 16:05:47</text>
            <text x="0" y="18" class="event-text" font-weight="600" fill="#10B981">‚úì Plan godkjent!</text>
            <text x="0" y="35" class="small">698 MNOK | 10. april 2026 | 32 forhandlinger | 47 min</text>
            <rect x="0" y="45" width="120" height="22" rx="4" fill="#10B981"/>
            <text x="60" y="60" text-anchor="middle" class="small" fill="#FFFFFF" font-weight="600">View success data ‚Üí</text>
          </g>
        </g>

        <!-- Current marker -->
        <g transform="translate(0, 680)">
          <circle cx="0" cy="0" r="6" fill="#3B82F6"/>
          <text x="30" y="5" class="small" fill="#3B82F6" font-weight="600">‚Üê Now</text>
        </g>
      </g>

      <!-- Right: Detailed Panel (for selected event) -->
      <g transform="translate(700, 0)">
        <rect x="0" y="0" width="550" height="700" rx="6" class="card" stroke="#E5E7EB" stroke-width="1"/>

        <g transform="translate(30, 30)">
          <text x="0" y="0" class="heading">Change: Renegotiatet 2.1 Shell Construction</text>
          <text x="0" y="22" class="timestamp">2025-12-09 14:42:15</text>

          <!-- Before/After Comparison -->
          <g transform="translate(0, 50)">
            <text x="0" y="0" class="label" font-weight="600">Comparison:</text>

            <!-- Header row -->
            <rect x="0" y="15" width="490" height="30" rx="4" fill="#F3F4F6"/>
            <text x="15" y="35" class="label" font-weight="600">Attribute</text>
            <text x="200" y="35" class="label" font-weight="600">Before</text>
            <text x="350" y="35" class="label" font-weight="600">After</text>

            <!-- Row 1: Cost -->
            <rect x="0" y="50" width="490" height="35" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1"/>
            <text x="15" y="72" class="label">Kostnad</text>
            <rect x="190" y="55" width="100" height="25" rx="4" class="diff-remove"/>
            <text x="240" y="72" text-anchor="middle" class="label" fill="#991B1B">250 MNOK</text>
            <rect x="340" y="55" width="100" height="25" rx="4" class="diff-add"/>
            <text x="390" y="72" text-anchor="middle" class="label" fill="#065F46">230 MNOK</text>

            <!-- Row 2: Duration -->
            <rect x="0" y="90" width="490" height="35" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1"/>
            <text x="15" y="112" class="label">Varighet</text>
            <text x="240" y="112" text-anchor="middle" class="label">6 months</text>
            <text x="390" y="112" text-anchor="middle" class="label">6 months</text>

            <!-- Row 3: Supplier -->
            <rect x="0" y="130" width="490" height="35" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1"/>
            <text x="15" y="152" class="label">Leverand√∏r</text>
            <text x="240" y="152" text-anchor="middle" class="label">Bj√∏rn Eriksen</text>
            <text x="390" y="152" text-anchor="middle" class="label">Bj√∏rn Eriksen</text>
          </g>

          <!-- Impact Analysis -->
          <g transform="translate(0, 230)">
            <text x="0" y="0" class="label" font-weight="600">Impact on project:</text>

            <rect x="0" y="15" width="490" height="120" rx="6" fill="#F0FDF4" stroke="#10B981" stroke-width="1"/>

            <g transform="translate(20, 40)">
              <text x="0" y="0" class="small">Budget:</text>
              <text x="450" y="0" text-anchor="end" class="label" font-weight="600" fill="#10B981">-20 MNOK ‚Üì</text>

              <text x="0" y="25" class="small">New total budget:</text>
              <text x="450" y="25" text-anchor="end" class="label" font-weight="600">695 MNOK</text>

              <text x="0" y="50" class="small">Under budget limit:</text>
              <text x="450" y="50" text-anchor="end" class="label" font-weight="600" fill="#10B981">+5 MNOK buffer ‚úì</text>

              <text x="0" y="75" class="small">Timeline:</text>
              <text x="450" y="75" text-anchor="end" class="label" font-weight="600">Unchanged</text>
            </g>
          </g>

          <!-- Negotiation Context -->
          <g transform="translate(0, 380)">
            <text x="0" y="0" class="label" font-weight="600">Negotiation context:</text>

            <rect x="0" y="15" width="490" height="140" rx="6" fill="#F9FAFB" stroke="#E5E7EB" stroke-width="1"/>

            <g transform="translate(20, 35)">
              <text x="0" y="0" class="small">Reason:</text>
              <text x="0" y="18" class="small" font-weight="600">Budget at risk (680/700 MNOK)</text>

              <text x="0" y="45" class="small">Strategy used:</text>
              <text x="0" y="63" class="small" font-weight="600">Appealed to long-term partnership</text>

              <text x="0" y="90" class="small">Supplier reaction:</text>
              <text x="0" y="108" class="small" font-weight="600" fill="#10B981">‚úì Accepted 8% price reduction</text>
            </g>
          </g>

          <!-- Action Buttons -->
          <g transform="translate(0, 550)">
            <rect x="0" y="0" width="235" height="40" rx="6" fill="#FFFFFF" stroke="#D1D5DB" stroke-width="1"/>
            <text x="117" y="25" text-anchor="middle" class="label">‚Üê Previous event</text>

            <rect x="255" y="0" width="235" height="40" rx="6" fill="#FFFFFF" stroke="#D1D5DB" stroke-width="1"/>
            <text x="372" y="25" text-anchor="middle" class="label">Next event ‚Üí</text>
          </g>

          <!-- Restore Button -->
          <g transform="translate(0, 610)">
            <rect x="0" y="0" width="490" height="40" rx="6" fill="#DC2626"/>
            <text x="245" y="25" text-anchor="middle" font-size="13" font-weight="600" fill="#FFFFFF">
              ‚ü≤ Restore to this point
            </text>
          </g>
        </g>
      </g>
    </g>
  </g>

  <!-- Footer -->
  <text x="700" y="980" text-anchor="middle" class="small" fill="#9CA3AF">nhb-12-screen-history-timeline.svg | History with diff-visning and tilbakestilling</text>
</svg>
