<svg width="1000" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      text { font-family: 'Inter', sans-serif; }
      .title-main { font-size: 24px; font-weight: 700; fill: #111827; }
      .subtitle-main { font-size: 14px; font-weight: 500; fill: #6B7280; }
      .heading { font-size: 14px; font-weight: 600; fill: #111827; }
      .label { font-size: 12px; font-weight: 500; fill: #374151; }
      .value { font-size: 12px; font-weight: 600; fill: #111827; }
      .small { font-size: 10px; fill: #6B7280; }

      .card { fill: #FFFFFF; stroke: #E5E7EB; stroke-width: 1; }
      .card-hover { fill: #F9FAFB; stroke: #3B82F6; stroke-width: 2; }
      .status-pending { fill: #F3F4F6; }
      .status-negotiating { fill: #FEF3C7; }
      .status-committed { fill: #D1FAE5; }
      .button { fill: #3B82F6; }
      .button-text { font-size: 11px; font-weight: 600; fill: #FFFFFF; }
      .icon-circle { fill: #DBEAFE; }
    </style>
  </defs>

  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" class="title-main">Komponent - WBS Oppgavekort</text>
  <text x="500" y="65" text-anchor="middle" class="subtitle-main">Ulike tilstander og interaksjoner for Work Breakdown Structure kort</text>

  <!-- State 1: Pending (Not started) -->
  <g transform="translate(50, 120)">
    <text x="0" y="0" class="heading">Tilstand 1: Ikke startet (Pending)</text>

    <g transform="translate(0, 20)">
      <rect x="0" y="0" width="420" height="150" rx="8" class="card"/>

      <!-- Status indicator -->
      <circle cx="20" cy="20" r="8" fill="#9CA3AF"/>

      <!-- WBS ID and Title -->
      <g transform="translate(40, 15)">
        <text x="0" y="0" class="heading">1.3.1 - Grunnarbeid</text>
        <text x="0" y="18" class="small">Masseutskifting, grunnmur, drenering, fundamenter</text>
      </g>

      <!-- Dependencies -->
      <g transform="translate(20, 55)">
        <text x="0" y="0" class="label">Avhengigheter:</text>
        <text x="115" y="0" class="small">1.1 Prosjektering (fullfÃ¸rt âœ“)</text>
      </g>

      <!-- Requirements -->
      <g transform="translate(20, 80)">
        <text x="0" y="0" class="label">Krav:</text>
        <text x="115" y="0" class="small">F-003 (Fundamentering), K-023 (Kvalitet)</text>
      </g>

      <!-- Actions -->
      <g transform="translate(20, 115)">
        <rect x="0" y="0" width="150" height="30" rx="6" class="button"/>
        <text x="75" y="20" text-anchor="middle" class="button-text">Forhandle â†’</text>

        <text x="170" y="20" class="small" fill="#3B82F6">ðŸ“„ Se detaljer</text>
      </g>
    </g>
  </g>

  <!-- State 2: Negotiating -->
  <g transform="translate(530, 120)">
    <text x="0" y="0" class="heading">Tilstand 2: Forhandler (Negotiating)</text>

    <g transform="translate(0, 20)">
      <rect x="0" y="0" width="420" height="150" rx="8" class="card" stroke="#F59E0B" stroke-width="2"/>

      <!-- Status indicator -->
      <circle cx="20" cy="20" r="8" fill="#F59E0B"/>

      <g transform="translate(40, 15)">
        <text x="0" y="0" class="heading">1.3.1 - Grunnarbeid</text>
        <text x="0" y="18" class="small">Forhandler med BjÃ¸rn Eriksen...</text>
      </g>

      <!-- Current offer -->
      <g transform="translate(20, 55)">
        <text x="0" y="0" class="label">Siste tilbud:</text>
        <text x="115" y="0" class="value" fill="#F59E0B">120 MNOK, 3 mÃ¥neder</text>
      </g>

      <!-- Message count -->
      <g transform="translate(20, 80)">
        <text x="0" y="0" class="label">Meldinger:</text>
        <text x="115" y="0" class="small">4 utvekslet</text>
      </g>

      <!-- Actions -->
      <g transform="translate(20, 115)">
        <rect x="0" y="0" width="150" height="30" rx="6" class="button"/>
        <text x="75" y="20" text-anchor="middle" class="button-text">Fortsett chat â†’</text>

        <text x="170" y="20" class="small" fill="#DC2626">Avbryt forhandling</text>
      </g>
    </g>
  </g>

  <!-- State 3: Committed -->
  <g transform="translate(50, 330)">
    <text x="0" y="0" class="heading">Tilstand 3: Forpliktet (Committed)</text>

    <g transform="translate(0, 20)">
      <rect x="0" y="0" width="420" height="150" rx="8" class="card" stroke="#10B981" stroke-width="2"/>

      <!-- Status indicator -->
      <circle cx="20" cy="20" r="10" fill="#10B981"/>
      <text x="20" y="25" text-anchor="middle" fill="#FFFFFF" font-size="12" font-weight="700">âœ“</text>

      <g transform="translate(40, 15)">
        <text x="0" y="0" class="heading">1.3.1 - Grunnarbeid</text>
        <text x="0" y="18" class="small">BjÃ¸rn Eriksen | Eriksen Bygg AS</text>
      </g>

      <!-- Cost and Duration -->
      <g transform="translate(20, 55)">
        <text x="0" y="0" class="label">Kostnad:</text>
        <text x="115" y="0" class="value" fill="#10B981">105 MNOK</text>

        <text x="220" y="0" class="label">Varighet:</text>
        <text x="285" y="0" class="value">2.5 mÃ¥neder</text>
      </g>

      <!-- Dates -->
      <g transform="translate(20, 80)">
        <text x="0" y="0" class="label">Tidsperiode:</text>
        <text x="115" y="0" class="small">15. jan 2025 â†’ 1. apr 2025</text>
      </g>

      <!-- Actions -->
      <g transform="translate(20, 115)">
        <rect x="0" y="0" width="150" height="30" rx="6" fill="#FFFFFF" stroke="#D1D5DB" stroke-width="1"/>
        <text x="75" y="20" text-anchor="middle" class="label" fill="#374151">Reforhandle</text>

        <text x="170" y="20" class="small" fill="#3B82F6">ðŸ“„ Se detaljer</text>
      </g>
    </g>
  </g>

  <!-- State 4: Hover state -->
  <g transform="translate(530, 330)">
    <text x="0" y="0" class="heading">Tilstand 4: Hover (Pending)</text>

    <g transform="translate(0, 20)">
      <rect x="0" y="0" width="420" height="150" rx="8" class="card-hover"/>

      <circle cx="20" cy="20" r="8" fill="#9CA3AF"/>

      <g transform="translate(40, 15)">
        <text x="0" y="0" class="heading">2.2 - Vinduer og DÃ¸rer</text>
        <text x="0" y="18" class="small">Installasjon av vinduer og ytterdÃ¸rer</text>
      </g>

      <g transform="translate(20, 55)">
        <text x="0" y="0" class="label">Avhengigheter:</text>
        <text x="115" y="0" class="small" fill="#EF4444">2.1 RÃ¥bygg (ikke fullfÃ¸rt)</text>
      </g>

      <g transform="translate(20, 80)">
        <text x="0" y="0" class="label">Krav:</text>
        <text x="115" y="0" class="small">V-008 (Vinduer), D-004 (DÃ¸rer)</text>
      </g>

      <!-- Actions (highlighted on hover) -->
      <g transform="translate(20, 115)">
        <rect x="0" y="0" width="150" height="30" rx="6" class="button"/>
        <text x="75" y="20" text-anchor="middle" class="button-text">Forhandle â†’</text>

        <text x="170" y="20" class="small" fill="#3B82F6" font-weight="600">ðŸ“„ Se detaljer</text>
      </g>
    </g>
  </g>

  <!-- Annotations -->
  <g transform="translate(50, 540)">
    <text x="0" y="0" class="heading">Status-indikator farger:</text>

    <g transform="translate(0, 25)">
      <circle cx="8" cy="0" r="8" fill="#9CA3AF"/>
      <text x="25" y="5" class="small">GrÃ¥: Ikke startet (pending)</text>

      <circle cx="8" cy="25" r="8" fill="#F59E0B"/>
      <text x="25" y="30" class="small">Gul: Forhandler (negotiating)</text>

      <circle cx="8" cy="50" r="10" fill="#10B981"/>
      <text x="30" y="55" class="small">GrÃ¸nn + âœ“: Forpliktet (committed)</text>
    </g>

    <text x="0" y="100" class="heading">Interaksjoner:</text>
    <text x="0" y="125" class="small">â€¢ Klikk "Forhandle" â†’ LeverandÃ¸r-valg modal (nhb-16)</text>
    <text x="0" y="145" class="small">â€¢ Klikk "Fortsett chat" â†’ Chat-side (nhb-09)</text>
    <text x="0" y="165" class="small">â€¢ Klikk "Reforhandle" â†’ Bekreft modal â†’ Ny forhandling</text>
    <text x="0" y="185" class="small">â€¢ Klikk "Se detaljer" â†’ Ekspander kort eller Ã¥pne modal</text>
    <text x="0" y="205" class="small">â€¢ Hover â†’ BlÃ¥ ramme, fremhev knapper</text>
  </g>

  <g transform="translate(530, 540)">
    <text x="0" y="0" class="heading">Komponenten brukes i:</text>
    <text x="0" y="25" class="small">â€¢ Dashboard (nhb-08): Liste av alle 15 WBS-oppgaver</text>
    <text x="0" y="45" class="small">â€¢ Filtrerbar og sorterbar liste</text>
    <text x="0" y="65" class="small">â€¢ Real-time oppdatering ved forpliktelse</text>

    <text x="0" y="100" class="heading">Validering:</text>
    <text x="0" y="125" class="small">â€¢ "Forhandle"-knapp deaktivert hvis avhengigheter</text>
    <text x="0" y="143" class="small">  ikke er fullfÃ¸rt (vis tooltip med Ã¥rsak)</text>
    <text x="0" y="163" class="small">â€¢ Vis advarsel hvis budsjett/tidslinje i fare</text>
  </g>

  <!-- Footer -->
  <text x="500" y="780" text-anchor="middle" class="small" fill="#9CA3AF">nhb-13-component-wbs-card.svg | WBS oppgavekort komponenter og tilstander</text>
</svg>
