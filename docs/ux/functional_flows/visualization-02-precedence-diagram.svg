<svg viewBox="0 0 1800 1600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'Inter', sans-serif; font-size: 28px; font-weight: 700; fill: #111827; }
      .subtitle { font-family: 'Inter', sans-serif; font-size: 14px; fill: #6B7280; }
      .heading { font-family: 'Inter', sans-serif; font-size: 16px; font-weight: 600; fill: #111827; }
      .body-text { font-family: 'Inter', sans-serif; font-size: 13px; fill: #374151; }
      .small-text { font-family: 'Inter', sans-serif; font-size: 11px; fill: #6B7280; }
      .node-text { font-family: 'Inter', sans-serif; font-size: 12px; fill: #1F2937; }
      .critical-node { fill: #FEE2E2; stroke: #EF4444; stroke-width: 3; }
      .non-critical-node { fill: #F3F4F6; stroke: #9CA3AF; stroke-width: 2; }
      .start-end-node { fill: #D1FAE5; stroke: #10B981; stroke-width: 2; }
      .critical-arrow { stroke: #EF4444; stroke-width: 3; fill: none; marker-end: url(#arrowhead-critical); }
      .normal-arrow { stroke: #6B7280; stroke-width: 2; fill: none; marker-end: url(#arrowhead-normal); }
      .float-text { font-family: 'Inter', sans-serif; font-size: 10px; fill: #F59E0B; font-weight: 600; }
    </style>
    <marker id="arrowhead-critical" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#EF4444" />
    </marker>
    <marker id="arrowhead-normal" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6B7280" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="900" y="40" class="title" text-anchor="middle">Precedence Diagram (AON) - Nye H√¶dda Barneskole</text>
  <text x="900" y="65" class="subtitle" text-anchor="middle">Activity-on-Node Nettverksdiagram med Kritisk Sti</text>

  <!-- Legend -->
  <rect x="50" y="90" width="1700" height="100" rx="8" fill="#F9FAFB" stroke="#D1D5DB" stroke-width="1"/>

  <rect x="80" y="110" width="140" height="60" rx="6" class="critical-node"/>
  <text x="150" y="135" class="node-text" text-anchor="middle" font-weight="600">Kritisk Aktivitet</text>
  <text x="150" y="155" class="small-text" text-anchor="middle">Total Float = 0</text>

  <rect x="260" y="110" width="140" height="60" rx="6" class="non-critical-node"/>
  <text x="330" y="135" class="node-text" text-anchor="middle">Ikke-Kritisk</text>
  <text x="330" y="155" class="small-text" text-anchor="middle">Total Float > 0</text>

  <rect x="440" y="110" width="140" height="60" rx="6" class="start-end-node"/>
  <text x="510" y="135" class="node-text" text-anchor="middle">Start/Slutt</text>
  <text x="510" y="155" class="small-text" text-anchor="middle">Milep√¶ler</text>

  <line x1="630" y1="140" x2="730" y2="140" class="critical-arrow"/>
  <text x="750" y="145" class="body-text">Kritisk Sti (FS)</text>

  <line x1="900" y1="140" x2="1000" y2="140" class="normal-arrow"/>
  <text x="1020" y="145" class="body-text">Ikke-Kritisk (FS)</text>

  <text x="1250" y="125" class="small-text">FS = Finish-to-Start avhengighet</text>
  <text x="1250" y="145" class="small-text">ES = Earliest Start, EF = Earliest Finish</text>
  <text x="1250" y="165" class="small-text">LS = Latest Start, LF = Latest Finish</text>

  <!-- Network Diagram -->

  <!-- START Node -->
  <rect x="100" y="250" width="180" height="100" rx="8" class="start-end-node"/>
  <text x="190" y="280" class="heading" text-anchor="middle">START</text>
  <text x="190" y="300" class="node-text" text-anchor="middle">Prosjektstart</text>
  <text x="190" y="320" class="small-text" text-anchor="middle">15 Feb 2025</text>
  <text x="110" y="340" class="small-text">ES: 0</text>
  <text x="250" y="340" class="small-text" text-anchor="end">EF: 0</text>

  <!-- Arrow to WBS 1.3.1 -->
  <path d="M 280 300 L 380 300" class="critical-arrow"/>

  <!-- WBS 1.3.1 Grunnarbeid (CRITICAL) -->
  <rect x="380" y="250" width="220" height="100" rx="8" class="critical-node"/>
  <text x="490" y="275" class="heading" text-anchor="middle" fill="#EF4444">WBS 1.3.1</text>
  <text x="490" y="295" class="node-text" text-anchor="middle">Grunnarbeid</text>
  <text x="490" y="315" class="small-text" text-anchor="middle">Varighet: 60 dager</text>
  <text x="490" y="330" class="small-text" text-anchor="middle">Kostnad: 105 MNOK</text>
  <text x="390" y="345" class="small-text">ES: 0 | EF: 60</text>
  <text x="580" y="345" class="small-text" text-anchor="end">Float: 0</text>

  <!-- Arrow to WBS 1.3.2 -->
  <path d="M 600 300 L 700 300" class="critical-arrow"/>
  <text x="650" y="290" class="small-text" text-anchor="middle" fill="#EF4444">FS</text>

  <!-- WBS 1.3.2 Fundamentering (CRITICAL) -->
  <rect x="700" y="250" width="220" height="100" rx="8" class="critical-node"/>
  <text x="810" y="275" class="heading" text-anchor="middle" fill="#EF4444">WBS 1.3.2</text>
  <text x="810" y="295" class="node-text" text-anchor="middle">Fundamentering</text>
  <text x="810" y="315" class="small-text" text-anchor="middle">Varighet: 45 dager</text>
  <text x="810" y="330" class="small-text" text-anchor="middle">Kostnad: 60 MNOK</text>
  <text x="710" y="345" class="small-text">ES: 60 | EF: 105</text>
  <text x="910" y="345" class="small-text" text-anchor="end">Float: 0</text>

  <!-- Arrow to WBS 1.4.1 -->
  <path d="M 920 300 L 1020 300" class="critical-arrow"/>
  <text x="970" y="290" class="small-text" text-anchor="middle" fill="#EF4444">FS</text>

  <!-- WBS 1.4.1 R√•bygg (CRITICAL) -->
  <rect x="1020" y="250" width="220" height="100" rx="8" class="critical-node"/>
  <text x="1130" y="275" class="heading" text-anchor="middle" fill="#EF4444">WBS 1.4.1</text>
  <text x="1130" y="295" class="node-text" text-anchor="middle">R√•bygg</text>
  <text x="1130" y="315" class="small-text" text-anchor="middle">Varighet: 90 dager</text>
  <text x="1130" y="330" class="small-text" text-anchor="middle">Kostnad: 180 MNOK</text>
  <text x="1030" y="345" class="small-text">ES: 105 | EF: 195</text>
  <text x="1230" y="345" class="small-text" text-anchor="end">Float: 0</text>

  <!-- Arrow to Parallel Finish -->
  <path d="M 1240 300 L 1340 450" class="critical-arrow"/>

  <!-- NON-CRITICAL PATH (Parallel activities) -->

  <!-- Prosjektering (parallel with 1.3.1) -->
  <rect x="380" y="400" width="200" height="80" rx="8" class="non-critical-node"/>
  <text x="480" y="425" class="node-text" text-anchor="middle">Prosjektering</text>
  <text x="480" y="445" class="small-text" text-anchor="middle">30 dager | 30 MNOK</text>
  <text x="390" y="470" class="small-text">ES: 0 | EF: 30</text>
  <text x="570" y="470" class="float-text" text-anchor="end">Float: 30d</text>

  <path d="M 280 300 L 350 380 L 380 420" class="normal-arrow"/>
  <path d="M 580 440 L 700 450" class="normal-arrow"/>

  <!-- RIB (parallel) -->
  <rect x="380" y="510" width="200" height="80" rx="8" class="non-critical-node"/>
  <text x="480" y="535" class="node-text" text-anchor="middle">RIB</text>
  <text x="480" y="555" class="small-text" text-anchor="middle">20 dager | 25 MNOK</text>
  <text x="390" y="580" class="small-text">ES: 0 | EF: 20</text>
  <text x="570" y="580" class="float-text" text-anchor="end">Float: 40d</text>

  <path d="M 280 300 L 350 490 L 380 540" class="normal-arrow"/>
  <path d="M 580 550 L 700 520" class="normal-arrow"/>

  <!-- Elektrisk (parallel with 1.3.2) -->
  <rect x="700" y="420" width="200" height="80" rx="8" class="non-critical-node"/>
  <text x="800" y="445" class="node-text" text-anchor="middle">Elektrisk</text>
  <text x="800" y="465" class="small-text" text-anchor="middle">45 dager | 35 MNOK</text>
  <text x="710" y="490" class="small-text">ES: 60 | EF: 105</text>
  <text x="890" y="490" class="float-text" text-anchor="end">Float: 60d</text>

  <path d="M 920 300 L 950 380 L 900 420" class="normal-arrow"/>
  <path d="M 900 460 L 1020 480" class="normal-arrow"/>

  <!-- VVS (parallel) -->
  <rect x="700" y="540" width="200" height="80" rx="8" class="non-critical-node"/>
  <text x="800" y="565" class="node-text" text-anchor="middle">VVS</text>
  <text x="800" y="585" class="small-text" text-anchor="middle">60 dager | 40 MNOK</text>
  <text x="710" y="610" class="small-text">ES: 60 | EF: 120</text>
  <text x="890" y="610" class="float-text" text-anchor="end">Float: 45d</text>

  <path d="M 920 300 L 950 520 L 900 560" class="normal-arrow"/>
  <path d="M 900 580 L 1020 520" class="normal-arrow"/>

  <!-- Remaining locked packages (simplified) -->
  <rect x="1020" y="420" width="200" height="180" rx="8" class="non-critical-node"/>
  <text x="1120" y="450" class="node-text" text-anchor="middle">8 andre l√•ste pakker</text>
  <text x="1120" y="475" class="small-text" text-anchor="middle">Ventilasjon, Vinduer,</text>
  <text x="1120" y="495" class="small-text" text-anchor="middle">R√∏rarbeid, Kledning,</text>
  <text x="1120" y="515" class="small-text" text-anchor="middle">Vegger, Himlinger,</text>
  <text x="1120" y="535" class="small-text" text-anchor="middle">Gulv, Maling</text>
  <text x="1120" y="560" class="small-text" text-anchor="middle">Total: 215 MNOK</text>
  <text x="1120" y="580" class="float-text" text-anchor="middle">Varierende Float (30-200d)</text>

  <path d="M 1240 300 L 1280 400 L 1220 450" class="normal-arrow"/>

  <!-- Parallel Finish Merge Point -->
  <rect x="1340" y="400" width="180" height="100" rx="8" class="start-end-node"/>
  <text x="1430" y="430" class="heading" text-anchor="middle">SLUTT</text>
  <text x="1430" y="450" class="node-text" text-anchor="middle">Prosjektslutt</text>
  <text x="1430" y="470" class="small-text" text-anchor="middle">30 Aug 2025 (baseline)</text>
  <text x="1350" y="490" class="small-text">ES: 195 | EF: 195</text>

  <!-- Critical Path Highlight -->
  <rect x="50" y="700" width="1700" height="180" rx="8" fill="#FEE2E2" stroke="#EF4444" stroke-width="2"/>
  <text x="900" y="735" class="heading" text-anchor="middle" fill="#EF4444">üö® KRITISK STI (Lengste vei gjennom nettverket)</text>

  <text x="80" y="770" class="body-text" font-weight="600">Kritisk Sti Sekvens:</text>
  <text x="100" y="795" class="body-text">START ‚Üí WBS 1.3.1 (Grunnarbeid) ‚Üí WBS 1.3.2 (Fundamentering) ‚Üí WBS 1.4.1 (R√•bygg) ‚Üí SLUTT</text>

  <text x="80" y="830" class="body-text" font-weight="600">Total Varighet:</text>
  <text x="100" y="850" class="body-text">60 + 45 + 90 = 195 dager (6.5 m√•neder)</text>

  <text x="900" y="770" class="body-text" font-weight="600">Kritiske Egenskaper:</text>
  <text x="920" y="795" class="body-text">‚Ä¢ Total Float = 0 (ingen slakk tid)</text>
  <text x="920" y="815" class="body-text">‚Ä¢ Forsinkelse p√• kritisk sti = forsinkelse p√• hele prosjektet</text>
  <text x="920" y="835" class="body-text">‚Ä¢ M√Ö fullf√∏res sekvensiellt (finish-to-start)</text>
  <text x="920" y="855" class="body-text">‚Ä¢ Baseline slutt: 30 Aug 2025 (260 dager f√∏r frist ‚úÖ)</text>

  <!-- Float Calculation -->
  <rect x="50" y="920" width="850" height="240" rx="8" fill="#E0E7FF" stroke="#6366F1" stroke-width="2"/>
  <text x="475" y="955" class="heading" text-anchor="middle">üìê FLOAT BEREGNING</text>

  <text x="80" y="990" class="body-text" font-weight="600">Total Float (TF):</text>
  <text x="100" y="1010" class="small-text">TF = LS - ES (eller LF - EF)</text>
  <text x="100" y="1030" class="small-text">Mengde tid en aktivitet kan forsinkes uten √• p√•virke prosjektslutt</text>

  <text x="80" y="1060" class="body-text" font-weight="600">Eksempel - Prosjektering:</text>
  <text x="100" y="1080" class="small-text">Varighet: 30 dager</text>
  <text x="100" y="1095" class="small-text">ES (Earliest Start): Dag 0</text>
  <text x="100" y="1110" class="small-text">EF (Earliest Finish): Dag 30</text>
  <text x="100" y="1125" class="small-text">LS (Latest Start): Dag 30 (kan starte senere)</text>
  <text x="100" y="1140" class="small-text">LF (Latest Finish): Dag 60</text>
  <text x="100" y="1155" class="small-text">Total Float: 30 - 0 = 30 dager ‚úÖ</text>

  <!-- Implementation Notes -->
  <rect x="950" y="920" width="800" height="240" rx="8" fill="#D1FAE5" stroke="#10B981" stroke-width="2"/>
  <text x="1350" y="955" class="heading" text-anchor="middle">üíª IMPLEMENTERING</text>

  <text x="980" y="990" class="body-text" font-weight="600">Interaktive Funksjoner:</text>
  <text x="1000" y="1010" class="small-text">‚Ä¢ Hover over node: Vis ES, EF, LS, LF, Float</text>
  <text x="1000" y="1025" class="small-text">‚Ä¢ Klikk p√• node: Vis WBS detaljer (kostnad, varighet, status)</text>
  <text x="1000" y="1040" class="small-text">‚Ä¢ Highlight kritisk sti (r√∏d)</text>
  <text x="1000" y="1055" class="small-text">‚Ä¢ Vis/skjul ikke-kritiske noder</text>

  <text x="980" y="1085" class="body-text" font-weight="600">CPM Algoritme (pseudo-code):</text>
  <text x="1000" y="1105" class="small-text">1. Forward Pass: Beregn ES og EF for alle noder</text>
  <text x="1000" y="1120" class="small-text">2. Backward Pass: Beregn LS og LF fra slutt</text>
  <text x="1000" y="1135" class="small-text">3. Calculate Float: TF = LS - ES for hver node</text>
  <text x="1000" y="1150" class="small-text">4. Identify Critical Path: Noder med Float = 0</text>

  <!-- Key Insights -->
  <rect x="50" y="1200" width="1700" height="180" rx="8" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
  <text x="900" y="1235" class="heading" text-anchor="middle">üí° VIKTIGE INNSIKTER</text>

  <text x="80" y="1270" class="body-text" font-weight="600">1. SEKVENSIELL AVHENGIGHET:</text>
  <text x="100" y="1290" class="body-text">Grunnarbeid M√Ö fullf√∏res f√∏r Fundamentering kan starte (fysisk begrensning)</text>
  <text x="100" y="1310" class="body-text">Fundamentering M√Ö fullf√∏res f√∏r R√•bygg kan starte (strukturell begrensning)</text>

  <text x="80" y="1340" class="body-text" font-weight="600">2. PARALLELLE AKTIVITETER:</text>
  <text x="100" y="1360" class="body-text">12 l√•ste pakker kan kj√∏res samtidig og p√•virker IKKE kritisk sti (har float > 0)</text>
</svg>
